===================
Ubuntu 16.04 server
===================
Docker
https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#install-using-the-repository
===================
PostgreSQL
===================
    1  psql

    2  sudo su - postgres
        createuser -s trix
        adduser trix
        psql
            CREATE DATABASE trix_db WITH OWNER = trix;
            \q
        psql trix_db trix
            \q
    7  ssh tim@localhost
    8  ip a
    9  sudo shutdown -P 0
   10  sudo /etc/init.d/postgresql restart
   11  sudo su - trix
   12  sudo vim /etc/postgresql/9.5/main/postgresql.conf
        listen_addresses = '*'
   13  sudo vim /etc/postgresql/9.5/main/pg_hba.conf
        host    all             all             1.1.1.0/24              trustconf
   15  sudo /etc/init.d/postgresql restart
   16  ps -f -u postgres
===================
Network
===================
        # change hostname

      > sudo vim /etc/hosts
      > sudo vim /etc/hostname

        # change IP

      > sudo vim /etc/network/interfaces

        auto lo
        iface lo inet loopback

        # NAT interface
        auto enp0s3
        iface enp0s3 inet dhcp

        # Host-only interface
        auto enp0s8
        iface enp0s8 inet static
                address 1.1.1.3
                netmask 255.255.255.0
                network 1.1.1.255

      > sudo /etc/init.d/networking restart
===================
Nginx
===================
        # Create share
        sudo mkdir -p /mnt/server1_id/web
        sudo chmod 777 /mnt/server1_id/web
        # Mount storage
        sudo mount //1.1.1.1/web /mnt/server1/web -t cifs -o username=tim,password=1604001,dir_mode=0777,file_mode=0777
            or in fstab (mount permanently)
        //1.1.1.1/web /mnt/server1_id/web cifs rw,username=tim,password=1604001,file_mode=0777,dir_mode=0777 0 0
        ls /mnt/server1_id/web/

# Build NGINX from sources
mkdir ~/git/libs
# dependencies:

cd ~/git/libs
wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.41.tar.gz
tar -zxf pcre-8.41.tar.gz
cd pcre-8.41
./configure
make
sudo make install

cd ~/git/libs
wget http://zlib.net/zlib-1.2.11.tar.gz
tar -zxf zlib-1.2.11.tar.gz
cd zlib-1.2.11
./configure
make
sudo make install

cd ~/git/libs
#wget http://www.openssl.org/source/openssl-1.0.2k.tar.gz
#tar -zxf openssl-1.0.2k.tar.gz
#cd openssl-1.0.2k
#./configure darwin64-x86_64-cc --prefix=/usr
#make
#sudo make install

# Downloading the Sources

cd ~/git
wget http://nginx.org/download/nginx-1.12.1.tar.gz
tar zxf nginx-1.12.1.tar.gz
cd nginx-1.12.1

# Example of the configure script:

./configure \
 --sbin-path=/opt/nginx/nginx \
 --conf-path=/opt/nginx/nginx.conf \
 --pid-path=/opt/nginx/nginx.pid \
 --with-pcre=../libs/pcre-8.41 \
 --with-zlib=../libs/zlib-1.2.11 \
 --with-stream

# --add-module=/usr/build/nginx-rtmp-module
# --add-dynamic-module=/usr/build/3party_module


# Config: rewrites should be set in accordance to trix config
> sudo vim /opt/nginx/nginx.conf

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile          on;
    keepalive_timeout 65;
    server {
        listen       80;
        server_name  trix_web;
        access_log  /opt/nginx/logs/trix.access.log;
        error_log  /opt/nginx/logs/trix.errors.log;

        rewrite ^/media/(.*)$ /preview/$1 last;
        rewrite ^/interface/(.*)$ /dist/$1 last;

        location / {
            root   /mnt/server1_id/web;
            index  index.html;
        }
    }
}

===================
Python 3.6 + psycopg2
===================
    sudo add-apt-repository ppa:jonathonf/python-3.6
    sudo apt-get update
    sudo apt-get install python3.6
    sudo apt-get install python3-pip
    python3.6 -m pip install --upgrade pip
    python3.6 -m pip install psycopg2

    python3.6 -m pip install Unidecode-0.04.21-py2.py3-none-any.whl
        or
    sudo -H python3.6 -m pip install Unidecode

    python3.6 -m pip install python_slugify-1.2.4-py2.py3-none-any.whl
===================
Tools
===================
    sudo apt-get install ffmpeg
    sudo apt-get install mediainfo
    sudo apt-get install sox



# Custom FFMPEG build
sudo apt-get update
# Dependencies for server (no ffplay)
sudo apt-get -y install autoconf automake build-essential libass-dev libfreetype6-dev libtheora-dev libtool libvorbis-dev pkg-config texinfo wget zlib1g-dev

# x265
sudo apt-get install mercurial cmake cmake-curses-gui build-essential
cd ~/
hg clone https://bitbucket.org/multicoreware/x265
cd x265/build/linux
./make-Makefiles.bash
make

# x264
cd ~/
git clone http://git.videolan.org/git/x264.git
cd x264/
./configure --disable-interlaced --bit-depth=8 --disable-avs --disable-swscale --disable-lavf --disable-ffms --disable-gpac --disable-lsmash
make
sudo mv x264 /usr/local/bin/x264.08
./configure --disable-interlaced --bit-depth=8 --disable-avs --disable-swscale --disable-lavf --disable-ffms --disable-gpac --disable-lsmash
make
sudo mv x264 /usr/local/bin/x264.10

mkdir ~/ffmpeg_sources
# Yasm
sudo apt-get install yasm
# Nasm
sudo apt-get install autoconf autogen
cd ~/ffmpeg_sources
wget http://www.nasm.us/pub/nasm/releasebuilds/2.13.01/nasm-2.13.01.tar.bz2
tar xjvf nasm-2.13.01.tar.bz2
cd nasm-2.13.01
./autogen.sh
./configure
make
sudo make install
# PATH="$HOME/bin:$PATH" ./configure --prefix="$HOME/ffmpeg_build" --bindir="$HOME/bin"
# PATH="$HOME/bin:$PATH" make
# make install



https://ffmpeg.zeranoe.com/builds/source/ffmpeg/ffmpeg-3.3.3.tar.xz

